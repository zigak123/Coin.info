app.component("coinlist",{controller:["$scope","$http","tickerSrv","$state","$timeout","$q","$interval","$mdMedia","dataSrv","$rootScope",function(a,e,t,n,o,c,r,i,u,l){var s;a.coins=[];var m=function(){e({method:"GET",url:"https://api.coinmarketcap.com/v2/global/"}).then(function(t){a.marketData=t.data.data,a.marketData.quotes.USD.total_market_cap=numeral(t.data.data.quotes.USD.total_market_cap).format("0,0"),a.marketData.quotes.USD.total_volume_24h=numeral(t.data.data.quotes.USD.total_volume_24h).format("0,0")},function(t){console.log(t)})};a.searchText=function(t){return e.get("search?text="+t).then(function(t){return t.data})},a.showDetails=function(t){n.go("coinDetails",{coin_data:t,coinName:t.FullName})},a.loadMore=function(){a.isbusy||(a.isbusy=!0,o(function(){u.getCoins(function(t){a.coins=t,a.isbusy=!1},a.currency)},250))},a.currency=u.getCurrency(),a.changeCurrency=function(t){a.currency=t,u.setCurrency(t),u.getCoins(function(t){a.coins=t,l.$broadcast("user:updated",t)},a.currency)},a.roundPrice=function(t){return null==t.lineData[t.lineData.length-1]?"1.00000000":"BTC"==a.currency?t.lineData[t.lineData.length-1].toFixed(8):t.lineData[t.lineData.length-1].toFixed(2)},a.$on("$destroy",function(t){r.cancel(s)}),m(),s=r(m,6e4)}],templateUrl:"/public/dist/templates/coinList.html"});